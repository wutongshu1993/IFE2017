{"version":3,"sources":["vueObserve.js"],"names":[],"mappings":"AAAA;;;AAGA,SAAS,QAAT,CAAkB,IAAlB,EAAwB;AACpB,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,IAAL,CAAU,IAAV;AACH;AACD,IAAI,IAAI,SAAS,SAAjB;AACA,EAAE,IAAF,GAAS,UAAU,GAAV,EAAe;AACpB,QAAI,GAAJ;AACA,SAAI,IAAI,GAAR,IAAe,GAAf,EAAmB;;AAEf,YAAG,IAAI,cAAJ,CAAmB,GAAnB,CAAH,EAA2B;AAC1B,kBAAM,IAAI,GAAJ,CAAN;AACA,gBAAG,OAAO,GAAP,KAAe,QAAlB,EAA2B;AACvB,oBAAI,QAAJ,CAAa,GAAb;AACH;AACE,iBAAK,OAAL,CAAa,GAAb,EAAkB,GAAlB,EALuB,CAKA;AAC1B;AACJ;AACJ,CAZD;AAaA,EAAE,OAAF,GAAY,UAAU,GAAV,EAAe,GAAf,EAAoB;AAC5B,WAAO,cAAP,CAAsB,KAAK,IAA3B,EAAiC,GAAjC,EAAsC;AAClC,oBAAY,IADsB;AAElC,sBAAc,IAFoB;AAGlC,aAAK,YAAY;AACb,oBAAQ,GAAR,CAAY,SAAQ,GAApB;AACA,mBAAO,GAAP;AACH,SANiC;AAOlC,aAAM,UAAU,MAAV,EAAkB;AACpB,oBAAQ,GAAR,CAAY,SAAO,GAAP,GAAW,KAAX,GAAiB,MAA7B;AACA,gBAAG,WAAW,GAAd,EAAkB;AAAC;AAAQ;AAC3B,kBAAM,MAAN;AACH;AAXiC,KAAtC;AAaH,CAdD;AAeA,IAAI,OAAO;AACP,UAAO,MADA;AAEP,SAAM;AAFC,CAAX;AAIA,IAAI,MAAM,IAAI,QAAJ,CAAa,IAAb,CAAV;AACA,IAAI,OAAO,IAAI,QAAJ,CAAa;AACpB,UAAM,WADc;AAEpB,SAAK;AAFe,CAAb,CAAX;;AAKA,IAAI,OAAO,IAAI,QAAJ,CAAa;AACpB,gBAAY,MADQ;AAEpB,WAAO,UAFa;AAGpB,aAAQ;AACJ,iBAAS,OADL;AAEJ,cAAO;AAFH;AAHY,CAAb,CAAX;AAQA,IAAI,IAAJ,CAAS,IAAT,GAAgB,IAAhB;AACA,IAAI,IAAI,IAAI,IAAJ,CAAS,IAAjB;AACA,KAAK,IAAL,CAAU,IAAV,C,CAAe;AACf,IAAI,IAAJ,CAAS,GAAT,GAAe,GAAf,C,CAAqB;AACrB,KAAK,IAAL,CAAU,UAAV,C,CAAqB;AACrB,KAAK,IAAL,CAAU,KAAV,GAAkB,SAAlB,C,CAA6B;AAC7B,KAAK,IAAL,CAAU,OAAV","file":"vueObserve-compiled.js","sourcesContent":["/**\r\n * Created by lh on 2017/3/6.\r\n */\r\nfunction Observer(data) {\r\n    this.data = data;\r\n    this.walk(data);\r\n}\r\nvar p = Observer.prototype;\r\np.walk = function (obj) {\r\n    var val;\r\n    for(var key in obj){\r\n\r\n        if(obj.hasOwnProperty(key)){\r\n         val = obj[key];\r\n         if(typeof val === 'object'){\r\n             new Observer(val);\r\n         }\r\n            this.convert(key, val);//依次给所有属性设置get和set函数。\r\n        }\r\n    }\r\n};\r\np.convert = function (key, val) {\r\n    Object.defineProperty(this.data, key, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get: function () {\r\n            console.log(\"你访问了\"+ key);\r\n            return val;\r\n        },\r\n        set : function (newVal) {\r\n            console.log(\"你设置了\"+key+' = '+newVal );\r\n            if(newVal === val){return };\r\n            val = newVal;\r\n        }\r\n    })\r\n};\r\nvar data = {\r\n    user : 'lily',\r\n    age : 22\r\n};\r\nvar app = new Observer(data);\r\nvar app1 = new Observer({\r\n    name: 'youngwind',\r\n    age: 25\r\n});\r\n\r\nvar app2 = new Observer({\r\n    university: 'bupt',\r\n    major: 'computer',\r\n    address:{\r\n        country: 'china',\r\n        city : 'chengdu'\r\n    }\r\n});\r\napp.data.user = 'mi';\r\nvar t = app.data.user;\r\napp1.data.name // 你访问了 name\r\napp.data.age = 100;  // 你设置了 age，新的值为100\r\napp2.data.university // 你访问了 university\r\napp2.data.major = 'science'  // 你设置了 major，新的值为 science\r\napp2.data.address;\r\n\r\n\r\n\r\n"]}